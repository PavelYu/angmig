.dashboard-container {
  padding: 24px;
  min-height: calc(100vh - 200px);

  .dashboard-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 24px;

    h1 {
      margin: 0;
      font-size: 28px;
      font-weight: 500;
      color: #212121;
    }

    .dashboard-actions {
      display: flex;
      gap: 8px;

      button {
        mat-icon {
          margin-right: 4px;
        }
      }
    }
  }

  .dashboard-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 24px;
    grid-auto-rows: minmax(200px, auto);

    .dashboard-widget {
      position: relative;
      background: white;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      transition: box-shadow 0.2s;

      &:hover {
        box-shadow: 0 4px 8px rgba(0,0,0,0.15);
      }

      &.kpi-widget {
        grid-column: span 1;
        grid-row: span 1;
      }

      &.chart-widget {
        grid-column: span 2;
        grid-row: span 2;
      }

      &.map-widget {
        grid-column: span 2;
        grid-row: span 2;
      }

      &.feed-widget {
        grid-column: span 1;
        grid-row: span 3;
      }

      .widget-header {
        display: flex;
        align-items: center;
        padding: 12px 16px;
        border-bottom: 1px solid #e0e0e0;
        cursor: move;
        background: #fafafa;
        border-radius: 8px 8px 0 0;

        .drag-handle {
          color: #999;
          cursor: grab;
          margin-right: 8px;

          &:active {
            cursor: grabbing;
          }
        }

        .widget-title {
          font-weight: 500;
          font-size: 16px;
          color: #212121;
        }
      }

      .widget-card {
        box-shadow: none;
        height: calc(100% - 49px);

        mat-card-content {
          height: 100%;
          padding: 16px;
        }
      }

      &.cdk-drag-animating {
        transition: transform 250ms cubic-bezier(0, 0, 0.2, 1);
      }

      &.cdk-drag-placeholder {
        opacity: 0.3;
      }
    }
  }
}

.cdk-drop-list-dragging .dashboard-widget:not(.cdk-drag-placeholder) {
  transition: transform 250ms cubic-bezier(0, 0, 0.2, 1);
}

.dark-theme {
  .dashboard-container {
    .dashboard-header h1 {
      color: #e0e0e0;
    }

    .dashboard-widget {
      background: #424242;

      .widget-header {
        background: #303030;
        border-bottom-color: #616161;
      }
    }
  }
}

